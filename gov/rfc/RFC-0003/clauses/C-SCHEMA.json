{
  "clause_id": "C-SCHEMA",
  "title": "Response Schema",
  "kind": "normative",
  "status": "active",
  "text": "All analytics responses MUST conform to a JSON schema for interoperability with multiple front-ends.\n\n**Root response structure:**\n```json\n{\n  \"skill\": \"<skill-name>\",\n  \"skill_path\": \"<absolute-source-path>\",\n  \"query\": \"<query-type>\",\n  \"filters\": {\n    \"since\": \"<datetime-or-null>\",\n    \"until\": \"<datetime-or-null>\",\n    \"projects\": [\"<path>\", ...]\n  },\n  \"period\": {\n    \"start\": \"<earliest-access-timestamp>\",\n    \"end\": \"<latest-access-timestamp>\"\n  },\n  \"data\": { ... }\n}\n```\n\n**Query-specific `data` structures:**\n\n`summary`:\n```json\n{\n  \"total_accesses\": 150,\n  \"unique_sections\": 8,\n  \"unique_files\": 3,\n  \"error_count\": 5\n}\n```\n\n`sections`:\n```json\n[\n  {\"section\": \"Getting Started\", \"file\": \"SKILL.md\", \"count\": 42},\n  {\"section\": \"API Reference\", \"file\": \"SKILL.md\", \"count\": 35}\n]\n```\n\n`files`:\n```json\n[\n  {\"file\": \"SKILL.md\", \"count\": 100},\n  {\"file\": \"docs/advanced.md\", \"count\": 25}\n]\n```\n\n`commands`:\n```json\n{\n  \"outline\": 50,\n  \"show\": 80,\n  \"open\": 20,\n  \"search\": 45,\n  \"build\": 10\n}\n```\n\n`projects`:\n```json\n[\n  {\"project\": \"/Users/me/webapp\", \"count\": 75},\n  {\"project\": \"/Users/me/cli-tool\", \"count\": 25}\n]\n```\n\n`errors`:\n```json\n[\n  {\"target\": \"NonExistentSection\", \"command\": \"show\", \"error\": \"Section not found\", \"count\": 5}\n]\n```\n\nThe JSON output MUST be valid JSON. Field order is not significant.",
  "since": "0.1.0"
}
