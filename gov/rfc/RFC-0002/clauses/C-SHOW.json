{
  "clause_id": "C-SHOW",
  "title": "Show Command",
  "kind": "normative",
  "status": "active",
  "text": "**Syntax:** `skc show <skill> --section \"<heading>\" [--file <path>] [--max-lines <n>]`\n\nThe show command MUST locate the specified heading and return its content.\n\n**Options:**\n\n| Option | Description |\n|--------|-------------|\n| `--file <path>` | Limit search to specific file |\n| `--max-lines <n>` | Maximum lines to return (default: unlimited) |\n\nWhen `--max-lines` is provided, the command MUST truncate output to the first n lines. If content is truncated, the command MUST append a line:\n`... (N more lines)`\n\n**Index-based lookup:**\nThe command MUST use the pre-built headings index from [[RFC-0004:C-INDEX]] instead of parsing files at runtime. If the index is missing or stale, the command MUST exit with error E002 per [[RFC-0005:C-CODES]].\n\n**Query normalization:**\nBefore matching, the query MUST be normalized:\n1. Trim leading/trailing whitespace\n2. If the query contains ` â€” ` (em-dash with spaces), extract only the part before it\n\nThis allows queries copied from compiled stubs (which may include descriptions) to work correctly.\n\n**Heading matching:**\n- Matching MUST be case-insensitive\n- If `--file` is provided, search only that file; otherwise search all indexed headings\n\n**Content extraction:**\nThe command MUST read content from the source file using the `start_line` and `end_line` from the index. Lines are 1-based.\n\n**Multiple matches:**\nIf multiple headings match, the command MUST return the first match and write a warning to stderr in the form:\n`warning: multiple matches for \"<heading>\"; showing first`\nThe command MUST exit with status 0 in this case.\n\n**No match with suggestions:**\nIf no heading matches, the command MUST:\n1. Search for similar headings (case-insensitive prefix match or substring match)\n2. If suggestions found, include them in the error message:\n   ```\n   error[E020]: section not found: '<query>'\n   \n   Did you mean one of these?\n     - <suggestion1> (<file1>)\n     - <suggestion2> (<file2>)\n   ```\n3. Limit suggestions to 5 entries\n4. Exit with non-zero status\n\n*Updated in v0.2.0: Added index-based lookup, query normalization (em-dash stripping), and suggestions on no match.*",
  "since": "0.1.0"
}
