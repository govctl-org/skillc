{
  "clause_id": "C-LIST",
  "title": "List Command",
  "kind": "normative",
  "status": "active",
  "text": "**Syntax:** `skc list [options]`\n\nThe list command MUST enumerate all skillc-managed skills from source stores.\n\n## Discovery\n\nThe command MUST discover skills from these locations in order:\n\n1. **Project-local source store**: Recursive-up search for `.skillc/skills/` directories\n2. **Global source store**: `~/.skillc/skills/`\n\nA valid skill is a directory containing a `SKILL.md` file with valid frontmatter.\n\n## Status Detection\n\n### Default (Fast Mode)\n\nWithout `--check-obsolete`, status detection is fast:\n\n| Status | Condition |\n|--------|-----------|\n| `normal` | Runtime directory exists with valid manifest.json |\n| `not-built` | No runtime directory or no manifest.json |\n\n### With --check-obsolete (Hash Comparison)\n\nWhen `--check-obsolete` is provided, the command performs expensive source hash comparison:\n\n| Status | Condition |\n|--------|-----------|\n| `normal` | Runtime exists and source hash matches manifest |\n| `not-built` | No runtime directory or no manifest.json |\n| `obsolete` | Runtime exists but source hash differs from manifest |\n\n## Output Format\n\n### Text Output (CLI default)\n\n```\n$ skc list\nSKILL           SCOPE    STATUS\nmy-skill        project  normal\ncuda            global   not-built\n```\n\nWhen `--verbose` is provided, include paths:\n\n```\n$ skc list --verbose\nSKILL           SCOPE    STATUS     SOURCE\nmy-skill        project  normal     .skillc/skills/my-skill\ncuda            global   not-built  ~/.skillc/skills/cuda\n```\n\n### JSON Output (MCP default)\n\n```json\n{\n  \"skills\": [\n    {\n      \"name\": \"my-skill\",\n      \"scope\": \"project\",\n      \"status\": \"normal\",\n      \"source_path\": \"/path/to/.skillc/skills/my-skill\",\n      \"runtime_path\": \"/path/to/.skillc/runtime/my-skill\"\n    }\n  ],\n  \"total\": 1,\n  \"filtered\": 1\n}\n```\n\n## Filtering\n\n| Option | Type | Default | Description |\n|--------|------|---------|-------------|\n| `--scope` | `project\\|global\\|all` | `all` | Filter by skill scope |\n| `--status` | `normal\\|not-built\\|obsolete\\|all` | `all` | Filter by build status |\n| `--limit` | number | unlimited | Maximum skills to return |\n| `--pattern` | string | â€” | Filter by skill name (glob pattern) |\n| `--check-obsolete` | boolean | false | Enable hash comparison for obsolete detection |\n\n## Ordering\n\nSkills MUST be ordered by:\n1. Scope: project before global\n2. Name: alphabetical within scope\n\n## Error Handling\n\n- If no skills are found, output an empty list (not an error)\n- If a skill directory exists but `SKILL.md` is invalid, skip with warning",
  "since": "0.1.0"
}
