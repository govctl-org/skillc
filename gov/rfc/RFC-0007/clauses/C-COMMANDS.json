{
  "clause_id": "C-COMMANDS",
  "title": "Command Registry",
  "kind": "normative",
  "status": "active",
  "text": "This clause defines all skillc commands, their parameters, and interface availability.\n\n**Interface Legend:**\n- **CLI**: Command-line interface (`skc <command>`)\n- **MCP**: Model Context Protocol tool (`skc_<command>`)\n\n## Command Registry\n\n| Command | CLI | MCP | Description |\n|---------|-----|-----|-------------|\n| `init` | ✓ | ✓ | Initialize project or create skill |\n| `list` | ✓ | ✓ | List all skillc-managed skills |\n| `build` | ✓ | ✓ | Compile skill to runtime format |\n| `lint` | ✓ | ✓ | Validate skill authoring quality |\n| `outline` | ✓ | ✓ | List all sections in a skill |\n| `show` | ✓ | ✓ | Retrieve section content |\n| `open` | ✓ | ✓ | Retrieve file content |\n| `sources` | ✓ | ✓ | List source files (tree-style) |\n| `search` | ✓ | ✓ | Search skill content |\n| `stats` | ✓ | ✓ | Usage analytics |\n| `sync` | ✓ | — | Merge fallback logs to primary (CLI-only) |\n| `mcp` | ✓ | — | Start MCP server (CLI-only) |\n\n## Parameter Definitions\n\n### init\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `name` | string | no | — | Skill name to create |\n| `--global` | boolean | no | false | Create in global source store |\n\n### list\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `--scope` | string | no | all | Filter: `project`, `global`, or `all` |\n| `--status` | string | no | all | Filter: `normal`, `not-built`, `obsolete`, or `all` |\n| `--limit` | number | no | unlimited | Maximum skills to return |\n| `--pattern` | string | no | — | Filter by skill name (glob pattern) |\n| `--check-obsolete` | boolean | no | false | Enable obsolete runtime detection |\n\nSee [[RFC-0007:C-LIST]] for full specification.\n\n### build\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `skill` | string | yes | — | Skill name or path |\n| `--global` | boolean | no | false | Force SSOT to global (~/.skillc/runtime/) |\n| `--target` | string[] | no | claude | Target agents to deploy to (comma-separated) |\n| `--copy` | boolean | no | false | Force copy instead of symlink/junction |\n| `--force` | boolean | no | false | Overwrite existing skill during import |\n\n**Behavior:**\n\n- **Skill name**: Looks up skill in project source store (`.skillc/skills/`) then global (`~/.skillc/skills/`)\n- **Path**: Imports skill to source store first, then builds (requires `--force` to overwrite existing)\n\nCompiles to SSOT location (`.skillc/runtime/` for local sources, `~/.skillc/runtime/` for global) and deploys to agent directories via symlink. See [[RFC-0001:C-DEPLOYMENT]].\n\n### lint\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `skill` | string | yes | — | Skill name or path |\n| `--force` | boolean | no | false | Lint even if skill is compiled |\n\n### outline\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `skill` | string | yes | — | Skill name or path |\n| `level` | number | no | unlimited | Maximum heading level (1-6) |\n\n### show\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `skill` | string | yes | — | Skill name or path |\n| `section` | string | yes | — | Section heading to retrieve |\n| `file` | string | no | — | Limit search to specific file |\n| `max_lines` | number | no | unlimited | Maximum lines to return |\n\n### open\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `skill` | string | yes | — | Skill name or path |\n| `path` | string | yes | — | Relative path within skill |\n| `max_lines` | number | no | unlimited | Maximum lines to return |\n\n### sources\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `skill` | string | yes | — | Skill name or path |\n| `depth` | number | no | unlimited | Maximum tree depth |\n| `dir` | string | no | — | Scope to subdirectory |\n| `limit` | number | no | 100 | Maximum entries |\n| `pattern` | string | no | — | Glob pattern filter |\n\n### search\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `skill` | string | yes | — | Skill name or path |\n| `query` | string | yes | — | Search query |\n| `limit` | number | no | 10 | Maximum results |\n\n### stats\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `skill` | string | yes | — | Skill name or path |\n| `group_by` | string | no | summary | Aggregation dimension: `summary`, `files`, `sections`, `commands`, `projects`, `errors`, `search` |\n| `since` | string | no | — | Include accesses on or after (ISO 8601) |\n| `until` | string | no | — | Include accesses on or before (ISO 8601) |\n| `project` | string[] | no | — | Filter by project directory |\n\n### sync (CLI-only)\n\n| Parameter | Type | Required | Default | Description |\n|-----------|------|----------|---------|-------------|\n| `skill` | string | no | — | Specific skill to sync |\n| `project` | string | no | CWD | Project directory |\n| `dry_run` | boolean | no | false | Preview without writing |\n\n**Rationale for CLI-only commands:**\n\n- **sync**: MCP servers run outside the sandbox and write directly to primary runtime locations. No fallback logs are created, so there is nothing to sync. See [[RFC-0007:C-LOGGING]] for fallback mechanism.\n- **mcp**: Starts the MCP server itself; not callable from within MCP.\n\n## MCP Tool Naming\n\nMCP tools use snake_case with `skc_` prefix:\n\n| CLI Command | MCP Tool |\n|-------------|----------|\n| `skc init` | `skc_init` |\n| `skc list` | `skc_list` |\n| `skc build` | `skc_build` |\n| `skc lint` | `skc_lint` |\n| `skc outline` | `skc_outline` |\n| `skc show` | `skc_show` |\n| `skc open` | `skc_open` |\n| `skc sources` | `skc_sources` |\n| `skc search` | `skc_search` |\n| `skc stats` | `skc_stats` |",
  "since": "0.1.0"
}
